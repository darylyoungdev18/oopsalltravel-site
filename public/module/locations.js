let blogEntries = [
    {
        id: "1-blog",
        img_src: "images/Amsterdam_bridge_Netherlands.jpg",
        title: "A Weekend In Amsterdam",
        details: "My first time in Amsterdam was wonderful. I traveled there by train from Germany, and six hours later, I was there. I went for New Year's and found myself enchanted by the city's unique charm. Floating through the canals of Amsterdam was a serene experience, with the historic buildings lining the waterways enhancing the city's picturesque beauty. One of the interesting thing about the canal is that all of the buildings look as though it was leaning forward towards it. Felt a lot like a painting that kept moving. Speaking of paintings, my excitement peaked at the Van Gogh Museum, where I delved into the world of this prolific artist, marveling at his stirring works and gaining deeper insights into his troubled yet brilliant mind. The food was also a huge highlight, nothing compared to the rich, buttery apple pie that I savored at a cozy cafe, its taste encapsulating the warmth of Dutch hospitality. Ringing in the New Year in such a vibrant city filled me with happiness, making my trip to Amsterdam an unforgettable start to the year.",
        city: "Amsterdam",
        country: "Netherlands"
    },
    {
        id: "2-blog",
        img_src: "images/Porto_bridge_Portugal.jpg",
        title: "A Sunny Porto",
        details: "Porto is one of my favorite places ever visited. I went at a time where I was weary from my rigorous schedule in search of relief of some kind. I found that relief day one of being there. The locals that I met in Porto were extremely friendly, they were all happy with having visitors to their city. The city was beyond beautiful as well as easy to commute through. I believe I walked through the most popular parts of it in about a day. The food was absolutely amazing, everything was rich in flavor. There was a dish that is called bacalhau in Portuguese (salt cod fish in English) that became a surprising favorite dish of mine out there.  The beach near Porto was the prettiest one I saw at the time; it was the first time I saw water that green before in my life. It was also the first time I saw a sunset at the beach being that I’ve always lived on the east coast growing up. I will never forget the feeling of safety, freedom and happiness I felt while there. ",
        city: "Porto",
        country: "Portugal"
    },
    {
        id: "3-blog",
        img_src: "images/Acropolis_Greece.jpg",
        title: "Exploring The Ruins of Athens In Modern Fashion",
        details: "Athens was a bustling city and surprisingly warm for me. The Mediterranean breeze was very much active the day I visited so it made it bearable. I was impress with how the city had so many of it’s ancient structures in tac, while still developing modern structures throughout the area. I was a bit disappointed in the food that I had while out there, I think I just picked some bad spots so had a few lackluster meals. The desserts were still good, I had a caramel donut that almost made up for the other dishes.  The top of the view from the Acropolis is one that I find hard to describe with words. It was the highlight of my short stay in Athens. The walk started off light but then became quite the workout. It is crazy to thing people actively traveled to it daily. But I could not think of a better place to engage in philosophical debates once I saw the view at the tip.",
        city: "Athens",
        country: "Greece"
    },
    {
        id: "4-blog",
        img_src: "images/usa-whitemountain.jpg",
        title: "Mini Hike In The Whites",
        details: "I’m not that big into hiking but I definitely recommend going to the White Mountains in New Hampshire. The drive is beautifully scenic and calming to the soul. Once I got to the area, I began to go down a trail that was filled with nothing but peace, quiet and nature. I couldn’t believe how being in that environment instantly made me feel like a kid again as I set out to explore the lush area. One of the most memorable area was by the river, I was too eager to jump form bolder to bolder just so that I could get to the center of the river to take multiple pictures.",
        city: "White Mountains",
        country: "USA"
    },
    {
        id: "5-blog",
        img_src: "images/usa-rockefeller.jpg",
        title: "Big Apple, My Home",
        details: "Born and raised in New York City, each corner of this bustling metropolis holds a story for me. Riding the subway, I've traversed the city's vibrant neighborhoods, each ride leading to a new adventure. The food here is unrivaled, from sizzling street food to gourmet delights, every bite is a taste of the world. One of my cherished memories is watching the breathtaking 'The Lion King' musical on Broadway, a spectacle of art and creativity. Yet, the most stunning view of all is from the Top of the Rock. Gazing out over the expansive skyline, the city's heartbeat beneath me, I'm reminded why I love my hometown—an ever-evolving canvas of experiences and sights.",
        city: "New York City",
        country: "USA"
    },
    {
        id: "6-blog",
        img_src: "images/Lisbon_Plaza_Portugal.jpg",
        title: "Lisbon Hospitality",
        details: "Lisbon was another great place I explored while in Portugal. I actually drove there from Porto, so it became an unforgettable mini- road trip.  The city was full of life and every individual I ran into was very friendly. There was one exchange I had with a local once I got near my Airbnb because they thought I was Portuguese and began speaking it to me. After I told them I wasn’t they were still extremely friendly as we all went our merry way. I went to the highest point in the city to take in the view but enjoyed the view I got at the harbor plaza more. I recommend taking the trip to Lisbon if you never been before. ",
        city: "Lisbon",
        country: "Portugal"
    },
    {
        id: "7-blog",
        img_src: "images/island_Punta_Cana_DR2.jpg.png",
        title: "An Exciting Punta Cana Trip",
        details: "The most exciting place I have been so far was the Dominican Republic. I visited to celebrate the new year with my girlfriend and was blown away with how beautiful the beaches were there. It was the equivalent of looking at a TV show depiction of a beach paradise. I was ecstatic to see some coral reefs as well as swim in a natural pool with water that was clear enough to see your feet. Our adventure continued as we rode ATVs through lush jungles, feeling the thrill of the wild terrain beneath us. We visited the home of a local who worked at a cocoa farm, gaining insight into the rural Dominican lifestyle. Topping off the experience, I drove a speedboat for the first time, racing across the ocean’s surface, which was absolutely thrilling. Every moment in Punta Cana was a treasure, filled with new experiences and scenic beauty.",
        city: "Punta Cana",
        country: "Dominican Republic"
    },
    {
        id: "8-blog",
        img_src: "images/Doha_Qatar.jpg",
        title: "A different World In The Same One",
        details: "My trip to Doha, Qatar, was a fascinating blend of culture, climate, and tasty delights. Doha's walkability allowed me to explore its unique charm comfortably on foot, immersing myself in a cityscape where traditional attire vividly contrasts with what's typical in America. The heat peaked midday, so locals and visitors alike thronged the streets at sunset, adding a vibrant life to the evening. Bartering with friendly locals was a highlight, giving me a taste of authentic interaction. I savored the best steak of my life at a local butcher shop and experienced my first delicious shawarma, making my visit to Doha unforgettable.",
        city: "Doha",
        country: "Qatar"
    },
    {
        id: "9-blog",
        img_src: "images/italy-venice-canal.jpg",
        title: "Wandering Venice",
        details: "My trip to Venice was an enchanting journey through time and beauty. Gliding through the city on a gondola, I was captivated by the serene waters and the historic charm of the floating city. The buildings, with their intricate architecture, stood as silent narrators of history; some hadn't been altered in over 400 years, their façades telling tales of centuries past. Culinary explorations were just as thrilling—Venetian pizza had a unique twist that delighted my taste buds, while the local pasta dishes, rich with flavor, provided a deeper taste of the city’s gastronomic heritage. Every moment spent in Venice was like a step through a living museum, wrapped in the exquisite allure of its endless canals and timeless beauty.",
        city: "Venice",
        country: "Italy"
    },
    {
        id: "10-blog",
        img_src: "images/Old_Rome_Italy.jpg",
        title: "Did As The Romans",
        details: "I can never forget the time I spent visiting Rome, it was nothing short of awe-inspiring. Navigating Rome was surprisingly easy, with buses and Ubers efficiently connecting me to the myriad of historical and modern delights the city offers. I was able to use the transportation to get to the Colosseum earlier in the day. The arena transported me back to ancient Rome, where the echoes of gladiators resonated through the grand arena, adjacent to the captivating ruins of old Rome. From there I took the time to journey to the Vatican, the holiest place in catholic religion. While I myself am not catholic, I was eager to immerse myself in the art work that was a representation of love. Inside the Vatican, the exquisite Roman art left me speechless, with each masterpiece weaving a narrative of devotion and artistic brilliance. I had to take advantage of the moment by taking pictures and videos. Outside the Vatican about three blocks away, I was fortunate enough to enjoy the second-best pizza of my life. It was almost better than the slices that I favor back home for me. I would love to go back to experience it all again if I could.",
        city: "Rome",
        country: "Italy"
    }
];

// THIS IS FOR THE AUTOCOMPLETE
let searchText = document.querySelector('#search-key');
let predictionDropDown = document.querySelector('.search-dropdown');
let titleSpot = document.querySelector('#result-name');
let imageSpot = document.querySelector('.result-image-spot');
let familiarySpot = document.querySelector('.result-familiarity-spot')
        //make sure that the search text updates on click       
        searchText.addEventListener('input', () => {
            let typing = searchText.value;
            if(typing ==''){
               predictionDropDown.classList.add("hide"); 
            }else{
                predictionDropDown.classList.remove("hide")                        
            };
            fetch(`https://maps.googleapis.com/maps/api/place/autocomplete/json?input=${typing}&types=(cities)&key=AIzaSyBAjaVCtJWNkh7YZ0SXs9m2sbFHAwsqoN4`)
                .then(response => {
                    if(response.status == 200) {
                        return response.json();
                    } else {
                        throw new Error('Something went wrong');
                    }
                })
                .then(data => {
                    /* Process the response data here and create search results*/
                    console.log(data); // needed to test if I data appeared
                    if (data.predictions){
                        let predictions = data.predictions.map(prediction => prediction.description );
                        let predictionsid = data.predictions.map(prediction => prediction.place_id );
                        console.log(predictions);
                        predictionDropDown.innerHTML = ""
                        predictions.forEach((prediction, index) => {
                            showLocation(prediction, predictionsid[index]);
                        });
                    }
                    else{
                        console.log('No predictions found in the response this time');
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        });
        searchText.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                event.preventDefault(); 
                predictionDropDown.classList.add("hide"); 
                let firstResult = predictionDropDown.querySelector('li');
                if (firstResult) {
                    firstResult.click();
                }
            }
        });

      export   function showLocation(location, locationid){
            predictionDropDown.insertAdjacentHTML('beforeend', `<li id="${locationid}"> ${location}</li>` );
            let liContent = document.getElementById(locationid);
            liContent.addEventListener('click', () => renderInfo(location, locationid));   

        }
       export  function renderInfo(placedescription, placeId){
            predictionDropDown.classList.add("hide");
            predictionDropDown.classList.remove("fade-in-content") 
            predictionDropDown.innerHTML = "";
            titleSpot.innerHTML = placedescription;
            let lastCommaIndex = placedescription.lastIndexOf(',');
            let textAfterLastComma = placedescription.substring(lastCommaIndex + 1).trim();

            fetch(`https://maps.googleapis.com/maps/api/place/details/json?place_id=${placeId}&fields=name,photo&key=AIzaSyBAjaVCtJWNkh7YZ0SXs9m2sbFHAwsqoN4`)
            .then(response => {
                if(response.status === 200) {
                    return response.json();
                } else {
                    throw new Error('Something went wrong');
                }
            })
            .then(data => {
                if (data.result && data.result.photos) {  // Check if photos are available
                    const photos = data.result.photos;    // Access the photos array
                    imageSpot.innerHTML = '';             // Clear existing images

                    for (let i = 0; i < data.result.photos.length && i < 6; i++){
                        let photo = data.result.photos[i];
                        let photoUrl = `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=${photo.photo_reference}&key=AIzaSyBAjaVCtJWNkh7YZ0SXs9m2sbFHAwsqoN4`;
                        imageSpot.innerHTML += `<img class="result-image" src="${photoUrl}">`;  // add new image elements
                        imageSpot.classList.add("fade-in-content");
                    };
                } else {
                    console.log('No photos found for this place.');
                    imageSpot.innerHTML = '<p>No images available.</p>';  // take care of cases with no pictures
                }
                let matchingBlog = blogEntries.find(blog => blog.country.replace(/[^a-zA-Z]/g, '') === textAfterLastComma);
                console.log(textAfterLastComma);
                if (matchingBlog) {
                    // If a matching blog is found, create a link to it
                    familiarySpot.innerHTML =``;
                    familiarySpot.classList.remove("fade-in-content");
                    familiarySpot.innerHTML=`
                        <p id="result-familiarity">
                            Oh you picked ${textAfterLastComma} I see. It was a beautiful place I made some great experiences there. Check out some blogs I wrote about my trips below!
                        </p>
                        <a class="familiarity-link" href="/blogs.html?country=${encodeURIComponent(textAfterLastComma.toLowerCase())}">
                        Check Out My ${textAfterLastComma} Blogs
                        </a>
                    
                    `
                    familiarySpot.classList.add("fade-in-content");
                }else{
                    familiarySpot.classList.remove("fade-in-content");
                    familiarySpot.innerHTML =``;
                    familiarySpot.classList.add("fade-in-content");
                    familiarySpot.innerHTML=`
                        <p id="result-familiarity">
                            Oh you picked ${textAfterLastComma}. I have not been anywhere in that country yet. But You should take the chance and explore to see what you learn. See where I have vistied below! 
                        </p>
                        <a class="familiarity-link" href="/blogs.html?country=${textAfterLastComma.toLowerCase()}">
                        Read About My Travels
                        </a>
                    `
                }
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });

        }
        
        document.addEventListener('DOMContentLoaded', () => {
            predictionDropDown.classList.add("hide"); 
            const images = [
                { src: '/images/Brussel_Belgium.jpg' },
                { src: 'images/Brussel_Plaza_Belgium.jpg' },
                { src: 'images/Paris_France.jpg' },
                { src: '/images/Porto_highpoint_Portugal.jpg' },
                { src: 'images/porto_portugal beach.jpg' },
                { src: '/images/Trier_Germany.jpg' },
                { src: '/images/Vatican_Italy.jpg' },
                { src: 'images/Old_Rome_Italy.jpg' },
                { src: 'images/Azores_Portugal.jpg'},
                { src: 'images/Venice_Italy.jpg' },
            ];

            const imageSlider = document.getElementById('imageSlider');

            images.forEach(image => {
                const imgElement = document.createElement('img');
                imgElement.src = image.src;
                imgElement.alt = image.alt;
                imgElement.style.maxHeight = '400px';
                imageSlider.appendChild(imgElement);
            });
        });